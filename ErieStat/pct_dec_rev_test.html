<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Annual TP Loading in ErieStat Watersheds</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
          integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>
    <!--<script src="https://leaflet.github.io/Leaflet.label/leaflet.label.js"></script> -->
    <!-- Load Esri Leaflet from CDN -->
    <script src="https://unpkg.com/esri-leaflet@3.0.1/dist/esri-leaflet.js"
        integrity="sha512-JmpptMCcCg+Rd6x0Dbg6w+mmyzs1M7chHCd9W8HPovnImG2nLAQWn3yltwxXRM7WjKKFFHOAKjjF2SC4CgiFBg=="
        crossorigin=""></script>
        <!--mapbox-gl-js is a dependency for esri-leaflet-vector -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet' />
    <script src="https://unpkg.com/esri-leaflet-vector@3.0.0/dist/esri-leaflet-vector.js"
            integrity="sha512-i3LCZC/OnZR2VtZJ7ftXbZivyjPVBKeOqWuJ9SqaBnuiG18GyzTrHWYPgf1geE1LmI9yRENWSEI3jcpKx1dgqg=="
            crossorigin=""></script>
    <script src="//code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>


    <!--<script src="https://code.highcharts.com/modules/export-data.js"></script> this module is not behaving as expected-->

    <script src="../js/BlueAccounting_test.js"></script>
    <script src="../js/ErieStat_2019.js"></script>
    <script src="../js/export-csv_glc.js"></script>

    <link rel="stylesheet" href="../css/BA_Style.css">

</head>
<body>
	
<figure class="highcharts-figure">
    <div id="container"></div>
    <p class="highcharts-description">
        Chart demonstrating using an arearange series in combination with a line
        series. In this case, the arearange series is used to visualize the
        temperature range per day, while the line series shows the average
        temperature.
    </p>
</figure>


<script>


var ranges = [
        [2012, -9.47, -51.61],
        [2013, -26.17, -50.92],
        [2014, -26.68, -51.62],
        [2015, -26.81, -43.23],
        [2016, -31.50, -56.36],
        [2017, -22.92, -57.31],
        [2018, -22.04, -56.62],
        [2019, -5.49, -55.59],
        [2020, -4.6, -54.42]
    ],
    averages = [
        [2012, -30.54],
        [2013, -38.54],
        [2014, -39.15],
        [2015, -35.02],
        [2016, -43.93],
        [2017, -40.11],
        [2018, -39.33],
        [2019, -30.54],
        [2020, -29.51]
    ],
        percents = [
	[2008, 0],
        [2009, -38.9],
        [2010, -55.95],
        [2011, -21.12],
        [2012, -36.75],
        [2013, -40.01],
        [2014, -41.95],
        [2015, -35.28],
        [2016, -65.55],
        [2017, -17.68],
        [2018, -36.07],
        [2019, 1.99],
        [2020, -30.12]
    ],
        target = [
	[2008, -40],
        [2009, -40],
        [2010, -40],
        [2011, -40],
        [2012, -40],
        [2013, -40.],
        [2014, -40],
        [2015, -40],
        [2016, -40],
        [2017, -40],
        [2018, -40],
        [2019, -40],
        [2020, -40]
    ];


Highcharts.chart('container', {

    title: {
        text: 'Maumee River Percent Change in TP Load Relative to 2008'
    },

    xAxis: {
        type: 'linear',
        accessibility: {
            rangeDescription: 'Year: 2008 to 2020.'
        }
    },

    yAxis: {
        title: {
            text: 'Percent change'
        }
    },

    tooltip: {
        crosshairs: true,
        shared: true,
        valueSuffix: '%'
    },

    series: [{
	name: 'Percent change',
        data: percents,
	type: 'scatter',
        zIndex: 2,
        color: '#0092B0',
   }, {
        name: '5 Year Average',
        data: averages,
        zIndex: 1,
	type: 'spline',
	color: '#0092B0',
	marker: {
                    radius: 0,
                },
    }, {
        name: 'St. Dev. of 5Y Average',
        data: ranges,
        type: 'arearange',
        lineWidth: 0,
        linkedTo: ':previous',
	threshold: -40,
        color: '#D91F26',
        negativeColor: '#68B044',
        fillOpacity: 0.3,
        zIndex: 0,
        marker: {
            enabled: false
        }
    }, {
	name: "Target",
	data: target,
        type: 'line',
        lineWidth: 3,
        marker: {
                radius: 0
        },
        color: "#E07000"
    }
});
	
</script>
	
</body>
</html>
