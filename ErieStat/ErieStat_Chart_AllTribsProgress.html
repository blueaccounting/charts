<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Progress by Watershed towards 2025 Phosphorus Load Reduction Goals</title>
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    <script src="//code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- Montserrat font -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700" rel="stylesheet">
    <script src="../js/export-csv_glc.js"></script>
    <script src="../js/BlueAccounting.js"></script>
    <link rel="stylesheet" href="../css/BA_Style.css">
</head>
<body>
    <div id="chart" style="margin-right: 20px">
    </div>

<script>
    var BA = new BlueAccounting;
Highcharts.setOptions({
    lang: {
        numericSymbols: null,
        thousandsSep: ','
    }
});
  
var data = [{
    name: 'Thames River',
    low: 205,
    high: 123
}, {
    name: 'Belgium',
    low: 70,
    high: 81
}, {
    name: 'Bulgaria',
    low: 69,
    high: 75
}, {
    name: 'Croatia',
    low: 65,
    high: 78
}, {
    name: 'Cyprus',
    low: 70,
    high: 81
}, {
    name: 'Czech Republic',
    low: 70,
    high: 79
}, {
    name: 'Denmark',
    low: 72,
    high: 81
}, {
    name: 'Estonia',
    low: 68,
    high: 78
}, {
    name: 'Finland',
    low: 69,
    high: 81
}, {
    name: 'France',
    low: 70,
    high: 83
}];

Highcharts.chart("chart", {
    chart: {
        type: "dumbbell",
        inverted: true,
        events: {
            load: function () {
                var logoX = 15;
                var size = this.plotBox.y;
                size -= 5;

                if(this.chartWidth < 500){
                    logoX = 10;
                    // size = this.chartWidth / 10;
                }
                var img_width = (this.chartWidth - 350)/2 - logoX;
                var img_height = size;
                // var img_url = "";
                if(img_width >= img_height*4){
                    // wide logo
                    this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
                    // ErieStat logo. Change factor to 3
                    // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();
                }else{
                    // cube logo
                    this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
                }
                // var w = this.chartWidth - this.title.alignAttr.x;
                // Blue Accounting Cube logo
                // this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
                // Blue Accouting Logo
                // this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
                // Blue Accounting ErieStat Logo
                // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();

                // this.renderer.image("https://c1.staticflickr.com/5/4382/36578347693_3c6032000b_o.png", 0, 0, chart_width, chart_height).add();   //red watermark
//                if (isBgImg) {
//                    this.renderer.image("img/background_draft.png", this.plotLeft, this.plotTop, this.plotWidth, this.plotHeight).add(); //grey watermark
//                }
            }
        }
    },
    title: {
        text: 'Progress towards 2025 annual phosphorus load reduction targets'
    },
    subtitle: {
        text: 'for priority watersheds in the Western Basin of Lake Erie'
    },
    xAxis: {
        title: {
            text: 'Annual Total Phosphorus Load (MTA)',
        }
    },
    credits: {
        enabled: false,
    },

    series: [{
      name: 'Annual Total Phosphorus Loading Progress, 2008-2020',
      data: data
    }]
});
</script>
</body>
</html>
